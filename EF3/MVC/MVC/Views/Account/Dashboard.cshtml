@using System.Security.Claims
@{
    ViewData["Title"] = "Dashboard";
    var role = User.FindFirst(ClaimTypes.Role)?.Value;
}

<h2 class="mb-4">Welcome, @User.Identity.Name!</h2>
<h5>Your role: @role</h5>

<div class="mt-3">

    @if (role == "Admin" || role == "HR")
    {
        <a asp-controller="Students" asp-action="List" class="btn btn-primary m-2">Students</a>
        <a asp-controller="Courses" asp-action="List" class="btn btn-success m-2">Courses</a>
        <a asp-controller="Instructors" asp-action="List" class="btn btn-warning m-2">Instructors</a>
        <a asp-controller="Departments" asp-action="List" class="btn btn-info m-2">Departments</a>
    }
    else if (role == "Instructor")
    {
        <a asp-controller="Courses" asp-action="List" class="btn btn-success m-2">Courses</a>
        <a asp-controller="Students" asp-action="List" class="btn btn-primary m-2">Students</a>
    }
    else if (role == "Student")
    {
        <script>
            window.location.href = '@Url.Action("List", "Students")';
        </script>
        <p>You will be redirected automatically to your Courses or Students list.</p>
        <a asp-controller="Students" asp-action="List" class="btn btn-primary m-2">Go to My Students</a>
    }

</div>

<form method="post" asp-controller="Account" asp-action="Logout" class="mt-4">
    <button type="submit" class="btn btn-danger">Logout</button>
</form>
